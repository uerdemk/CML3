lab:
  description: ''
  notes: ''
  timestamp: 1613907041.5185075
  title: Dev-infrastructure
  version: 0.0.4
nodes:
  - id: n0
    label: real-internet
    node_definition: external_connector
    x: -950
    y: -50
    configuration: bridge0
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port
        type: physical
  - id: n1
    label: INTERNET
    node_definition: iosv
    x: -550
    y: -50
    configuration: |-
      hostname ISP
      no boot network
      no service config
      ip domain name domain.name
      !
      ip route 0.0.0.0 0.0.0.0 192.168.1.1
      !
      username ci-user privilege 15 secret 0 cisco
      !
      !
      interface Loopback8888
      ip address 8.8.8.8 255.255.255.255
      ip nat inside
      !
      interface GigabitEthernet0/0
      ip address 192.168.1.100 255.255.255.0
      ip nat outside
      no shutdown
      !
      interface GigabitEthernet0/1
      ip address 132.87.2.254 255.255.255.0
      ip nat inside
      no shutdown
      !
      interface GigabitEthernet0/2
      ip address 100.71.60.254 255.255.255.0
      ip nat inside
      no shutdown
      !
      interface GigabitEthernet0/3
      ip address 100.10.9.6 255.255.255.252
      ip nat inside
      no shutdown
      !
      interface GigabitEthernet0/4
      ip address 18.31.192.2 255.255.255.252
      ip nat inside
      no shutdown
      !
      interface GigabitEthernet0/5
      ip address 94.121.72.2 255.255.255.252
      ip nat inside
      no shutdown
      !
      ip nat inside source static 132.87.2.1 192.168.1.201
      ip nat inside source static 100.71.60.1 192.168.1.202
      ip nat inside source static 100.10.9.5 192.168.1.203
      ip nat inside source static 18.31.192.1 192.168.1.204
      ip nat inside source static 94.121.72.1 192.168.1.205
      ip nat inside source static 8.8.8.8 192.168.1.207
      !
      line vty 0 15
      login local
      privilege level 15
      logging synchronous
      transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: iosv-159-3-m4
    ram: 1024
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet0/0
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet0/1
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet0/2
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet0/3
        type: physical
      - id: i5
        slot: 4
        label: GigabitEthernet0/4
        type: physical
      - id: i6
        slot: 5
        label: GigabitEthernet0/5
        type: physical
      - id: i7
        slot: 6
        label: GigabitEthernet0/6
        type: physical
      - id: i8
        slot: 7
        label: GigabitEthernet0/7
        type: physical
  - id: n2
    label: MOW-RTR-01
    node_definition: csr1000v
    x: -650
    y: 100
    configuration: |-
      hostname MOW-RTR-01
      ip domain name domain.name
      no boot network
      no service config
      username ci-user priv 15 secret 0 cisco

      ip route 0.0.0.0 0.0.0.0 132.87.2.254

      interface GigabitEthernet1
       ip address 132.87.2.1 255.255.255.0
       no shutdown
      !
      line vty 0 15
       login local
       privilege level 15
       logging synchronous
       transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: csr1000v-170304a
    cpus: 2
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n3
    label: MOW-RTR-02
    node_definition: csr1000v
    x: -450
    y: 100
    configuration: |-
      hostname MOW-RTR-02
      ip domain name domain.name
      no boot network
      no service config
      username ci-user priv 15 secret 0 cisco

      ip route 0.0.0.0 0.0.0.0 100.71.60.254

      interface GigabitEthernet1
       ip address 100.71.60.1 255.255.255.0
       no shutdown
      !
      line vty 0 15
       login local
       privilege level 15
       logging synchronous
       transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: csr1000v-170304a
    cpus: 2
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n4
    label: AZR-CSR-01
    node_definition: csr1000v
    x: -550
    y: -200
    configuration: |-
      hostname AZR-CSR-01
      ip domain name domain.name
      no boot network
      no service config
      username ci-user priv 15 secret 0 cisco

      ip route 0.0.0.0 0.0.0.0 18.31.192.2

      interface GigabitEthernet1
       ip address 18.31.192.1 255.255.255.252
       no shutdown
      !
      line vty 0 15
       login local
       privilege level 15
       logging synchronous
       transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: csr1000v-170304a
    cpus: 2
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n5
    label: GCP-CSR-01
    node_definition: csr1000v
    x: -400
    y: -100
    configuration: |-
      hostname GCP-CSR-01
      ip domain name domain.name
      no boot network
      no service config
      username ci-user priv 15 secret 0 cisco

      ip route 0.0.0.0 0.0.0.0 94.121.72.2

      interface GigabitEthernet1
       ip address 94.121.72.1 255.255.255.252
       no shutdown
      !
      line vty 0 15
       login local
       privilege level 15
       logging synchronous
       transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: csr1000v-170304a
    cpus: 2
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n6
    label: AWS-CSR-01
    node_definition: csr1000v
    x: -700
    y: -100
    configuration: |-
      hostname AWS-CSR-01
      ip domain name domain.name
      no boot network
      no service config
      username ci-user priv 15 secret 0 cisco

      ip route 0.0.0.0 0.0.0.0 100.10.9.6

      interface GigabitEthernet1
       ip address 100.10.9.5 255.255.255.252
       no shutdown
      !
      line vty 0 15
       login local
       privilege level 15
       logging synchronous
       transport input ssh
      !
      crypto key gen rsa gen mod 1024
      !
      end
    image_definition: csr1000v-170304a
    cpus: 2
    tags: []
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        slot: 0
        label: GigabitEthernet1
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet2
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet3
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet4
        type: physical
  - id: n8
    label: internal-net
    node_definition: unmanaged_switch
    x: -550
    y: 200
    configuration: ''
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: port0
        type: physical
      - id: i1
        slot: 1
        label: port1
        type: physical
      - id: i2
        slot: 2
        label: port2
        type: physical
      - id: i3
        slot: 3
        label: port3
        type: physical
      - id: i4
        slot: 4
        label: port4
        type: physical
      - id: i5
        slot: 5
        label: port5
        type: physical
      - id: i6
        slot: 6
        label: port6
        type: physical
      - id: i7
        slot: 7
        label: port7
        type: physical
  - id: n9
    label: INTERNAL-HOST-01
    node_definition: alpine
    x: -550
    y: 300
    configuration: |-
      # this is a shell script which will be sourced at boot
      # if you change the hostname then you need to add a
      # /etc/hosts entry as well

      hostname INTERNAL-HOST-01
      echo "127.0.0.1   INTERNAL-HOST" >>/etc/hosts
      ip address add 172.16.0.101/24 dev eth0
      ip link set dev eth0 up
      ip route add default via 172.16.0.254
    image_definition: alpine-3-14-2-base
    tags: []
    interfaces:
      - id: i0
        slot: 0
        label: eth0
        type: physical
  - id: n10
    label: ASA
    node_definition: asav
    x: -350
    y: -50
    configuration: |-
      !
      hostname ciscoasa
      enable password cisco
      service-module 0 keepalive-timeout 4
      service-module 0 keepalive-counter 6
      names
      no mac-address auto
      !
      interface GigabitEthernet0/0
      ip address 192.168.1.199 255.255.255.0
      nameif YKI
      security-level 0
      !
      interface GigabitEthernet0/1
      shutdown
      no nameif
      no security-level
      no ip address
      !
      interface GigabitEthernet0/2
      shutdown
      no nameif
      no security-level
      no ip address
      !
      interface GigabitEthernet0/3
      shutdown
      no nameif
      no security-level
      no ip address
      !
      interface GigabitEthernet0/3
      shutdown
      no nameif
      no security-level
      no ip address
      !
      interface GigabitEthernet0/4
      shutdown
      no nameif
      no security-level
      no ip address
      !
      interface Management0/0
      no management-only
      shutdown     
      no nameif
      no security-level
      no ip address
      !
      ftp mode passive
      pager lines 23
      no failover
      no failover wait-disable
      icmp unreachable rate-limit 1 burst-size 1
      no asdm history enable
      arp timeout 14400
      no arp permit-nonconnected
      arp rate-limit 8192
      timeout xlate 3:00:00
      timeout pat-xlate 0:00:30
      timeout conn 1:00:00 half-closed 0:10:00 udp 0:02:00 sctp 0:02:00 icmp 0:00:02
      timeout sunrpc 0:10:00 h323 0:05:00 h225 1:00:00 mgcp 0:05:00 mgcp-pat 0:05:00
      timeout sip 0:30:00 sip_media 0:02:00 sip-invite 0:03:00 sip-disconnect 0:02:00
      timeout sip-provisional-media 0:02:00 uauth 0:05:00 absolute
      timeout tcp-proxy-reassembly 0:01:00
      timeout floating-conn 0:00:00
      timeout conn-holddown 0:00:15
      timeout igp stale-route 0:01:10
      user-identity default-domain LOCAL
      aaa authentication login-history
      no snmp-server location
      no snmp-server contact
      telnet timeout 5
      ssh stricthostkeycheck
      ssh timeout 5
      ssh version 2
      ssh key-exchange group dh-group14-sha256
      console timeout 0
      console serial
      threat-detection basic-threat
      threat-detection statistics access-list
      no threat-detection statistics tcp-intercept
      dynamic-access-policy-record DfltAccessPolicy
      !
      class-map inspection_default
      match default-inspection-traffic
      !
      !
      policy-map type inspect dns preset_dns_map
      parameters
        message-length maximum client auto
        message-length maximum 512
        no tcp-inspection
      policy-map global_policy
      class inspection_default
        inspect ip-options 
        inspect netbios 
        inspect rtsp 
        inspect sunrpc 
        inspect tftp 
        inspect dns preset_dns_map 
        inspect ftp 
        inspect h323 h225 
        inspect h323 ras 
        inspect rsh 
        inspect esmtp 
        inspect sqlnet 
        inspect sip  
        inspect skinny 
      policy-map type inspect dns migrated_dns_map_2
      parameters
        message-length maximum client auto
        message-length maximum 512
        no tcp-inspection
      policy-map type inspect dns migrated_dns_map_1
      parameters
        message-length maximum client auto
        message-length maximum 512
        no tcp-inspection
      !
      service-policy global_policy global
      prompt hostname context 
    image_definition: asav-9-16-2
    ram: 1024
    tags: []
    interfaces:
      - id: i0
        label: Management0/0
        type: physical
      - id: i1
        slot: 0
        label: GigabitEthernet0/0
        type: physical
      - id: i2
        slot: 1
        label: GigabitEthernet0/1
        type: physical
      - id: i3
        slot: 2
        label: GigabitEthernet0/2
        type: physical
      - id: i4
        slot: 3
        label: GigabitEthernet0/3
        type: physical
      - id: i5
        slot: 4
        label: GigabitEthernet0/4
        type: physical
      - id: i6
        slot: 5
        label: GigabitEthernet0/5
        type: physical
links:
  - id: l3
    i1: i1
    n1: n6
    i2: i4
    n2: n1
  - id: l4
    i1: i1
    n1: n4
    i2: i5
    n2: n1
  - id: l5
    i1: i1
    n1: n5
    i2: i6
    n2: n1
  - id: l1
    i1: i1
    n1: n2
    i2: i2
    n2: n1
  - id: l2
    i1: i1
    n1: n3
    i2: i3
    n2: n1
  - id: l0
    i1: i0
    n1: n0
    i2: i1
    n2: n1
  - id: l6
    i1: i0
    n1: n8
    i2: i2
    n2: n2
  - id: l7
    i1: i1
    n1: n8
    i2: i2
    n2: n3
  - id: l9
    i1: i0
    n1: n9
    i2: i3
    n2: n8
  - id: l10
    i1: i1
    n1: n10
    i2: i7
    n2: n8
